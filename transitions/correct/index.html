<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Correct - Rosmaro</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Correct";
    var mkdocs_page_input_path = "transitions/correct.md";
    var mkdocs_page_url = "/transitions/correct/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Rosmaro</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">What is Rosmaro</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../getting-started/">Getting started</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Building blocks</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../building-blocks/leaves/">Leaves</a>
                </li>
                <li class="">
                    
    <a class="" href="../../building-blocks/graphs/">Graphs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../building-blocks/composites/">Composites</a>
                </li>
                <li class="">
                    
    <a class="" href="../../building-blocks/adapters/">Adapters</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Transitions</span>
    <ul class="subnav">
                <li class=" current">
                    
    <a class="current" href="./">Correct</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#to-another-node-of-a-graph">To another node of a graph</a></li>
    

    <li class="toctree-l3"><a href="#to-a-node-on-a-higher-level">To a node on a higher level</a></li>
    

    <li class="toctree-l3"><a href="#simultaneous-transitions-on-different-levels">Simultaneous transitions on different levels</a></li>
    

    <li class="toctree-l3"><a href="#leaving-one-node-to-few-nodes-on-different-levels">Leaving one node to few nodes on different levels</a></li>
    

    <li class="toctree-l3"><a href="#transitions-among-left-nodes">Transitions among left nodes</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../incorrect/">Incorrect</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Working with Rosmaro</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../working-with-rosmaro/names-of-nodes/">Names of nodes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../working-with-rosmaro/returning-values/">Returning values</a>
                </li>
                <li class="">
                    
    <a class="" href="../../working-with-rosmaro/locking/">Locking</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Contribution</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../contribution/storage-specification/">Storage specification</a>
                </li>
                <li class="">
                    
    <a class="" href="../../contribution/locks-specification/">Locks specification</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../elsewhere/">Rosmaro elsewhere</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Rosmaro</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Transitions &raquo;</li>
        
      
    
    <li>Correct</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/lukaszmakuch/rosmaro/edit/master/docs/transitions/correct.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>This chapter describes types of allowed transitions.</p>
<h2 id="to-another-node-of-a-graph">To another node of a graph</h2>
<p><img alt="Diagram" src="../../img/correct_transitions/another_node_of_a_graph.jpg" /></p>
<p>This is the simplest transition. If the current node is <em>A</em>, then following the <em>x</em> arrow will set it to <em>B</em>.</p>
<p>This is what the code looks like:</p>
<pre><code class="js">{
  type: &quot;graph&quot;,
  start: &quot;A&quot;,
  arrows: {
    A: { x: &quot;B&quot; }
  },
  nodes: { A, B }
}
</code></pre>

<h2 id="to-a-node-on-a-higher-level">To a node on a higher level</h2>
<p><img alt="Diagram" src="../../img/correct_transitions/to_a_node_on_a_higher_level.jpg" /></p>
<p>Let's forget for a moment about everything around the <em>A</em> graph and focus just on that graph. It looks very similar to the case mentioned in the previous example - <a href="./#to-another-node-of-a-graph">To another node of a graph</a>. If the <em>A:A</em> node follows the <em>x</em> arrow, it goes to the <em>A:B</em> node.</p>
<p>But what happens if the <em>A:B</em> node follows the <em>x</em> arrow? Within the <em>A</em> graph the <em>x</em> arrow going from the <em>A:B</em> node is not connected to any other node. An arrow like that leaves the parent of the node that follows it. That's why on the diagram there's an arrow to the border of the <em>A</em> graph. From the point of view of the <em>(root)</em> graph it is the <em>A</em> node that follows the <em>x</em> arrow.</p>
<p>So following the <em>x</em> arrow by the <em>A:B</em> sets the current node to <em>B</em>.</p>
<p>After the <em>A</em> graph is left by following an arrow by the <em>A:B</em> node, the <em>A:B</em> node becomes its new entry node. So if we follow an arrow to the <em>A</em> node, it will go into the <em>A:B</em> node, even if previously the initial node was the <em>A:A</em> node.</p>
<h2 id="simultaneous-transitions-on-different-levels">Simultaneous transitions on different levels</h2>
<p><img alt="Diagram" src="../../img/correct_transitions/on_different_levels.jpg" /></p>
<p>Here we have a composite <em>B</em>, so both <em>B:A</em> and <em>B:B</em> nodes are active at the same time. If we are currently in nodes <em>B:A</em>, <em>B:B:A</em>, then following the <em>x</em> arrow sets the current node to <em>A</em>. Even though <em>B</em> is not active anymore, a regular transition from <em>B:B:A</em> to <em>B:B:A</em> took place. It means all the node and transition actions were executed. Entering the <em>B</em> node again will mean entering nodes <em>B:A</em>, <em>B:B:B</em>.</p>
<h2 id="leaving-one-node-to-few-nodes-on-different-levels">Leaving one node to few nodes on different levels</h2>
<p><img alt="Diagram" src="../../img/correct_transitions/from_a_composite_to_nodes_on_different_levels.jpg" /></p>
<p>Because nodes <em>B:B:A</em> and <em>B:B:B</em> are active in the same time, they may both follow two different arrows. From the perspective of the <em>B</em> graph it looks like the <em>B:B</em> node is following two different arrows simultaneously.</p>
<p>Even though it may look weird, there's no need to panic. Everything is fine, because it's not a situation when two nodes of the same graph are entered.</p>
<p>Following the <em>x</em> arrow will leave the <em>B:B</em> node and set the current node of the <em>B</em> graph to <em>B:A</em> and following the <em>y</em> arrow will leave the whole <em>B</em> graph and set the current node of the <em>(root)</em> graph to <em>A</em>.</p>
<p>So the result node is <em>A</em> and entering <em>B</em> will actually enter <em>B:A</em>.</p>
<h2 id="transitions-among-left-nodes">Transitions among left nodes</h2>
<p><img alt="Diagram" src="../../img/correct_transitions/transitions_among_left_nodes.jpg" /></p>
<p>Let's assume the current nodes of the model are <em>B:A</em>, <em>B:B:A</em>. All the <em>e</em> arrows are the arrows automatically followed by the <a href="../../building-blocks/leaves/#on_entry">on_entry</a> methods as soon as the node is entered.</p>
<p>So following the <em>x</em> arrow will change the current nodes from <em>B:A</em>, <em>B:B:A</em> to <em>B:A</em>, <em>B:B:D</em>. In the meantime <em>B:A</em>, <em>B:B:A</em>, <em>B:B:B</em>, <em>B:B:C</em> and <em>A</em> will be left. Bear in mind it's not going to be the same <em>B:A</em> node anymore. It will have another <a href="../../building-blocks/leaves/#unique-id">ID</a>, because the previous one has been left.</p>
              
            </div>
          </div>
 
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../incorrect/" class="btn btn-neutral float-right" title="Incorrect">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../building-blocks/adapters/" class="btn btn-neutral" title="Adapters"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
    <a href="https://js.org" target="_blank" title="JS.ORG | JavaScript Community">
    <img src="https://logo.js.org/dark_tiny.png" width="77" alt="JS.ORG Logo"/></a>

        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/lukaszmakuch/rosmaro" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../../building-blocks/adapters/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../incorrect/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
